<!DOCTYPE html>
<html>
<head lang="en">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <title>参数对比</title>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
            text-decoration: none;
            list-style: none;
            font-family: '微软雅黑';
            font-size: 12px;
            /**/
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            -webkit-highlight: none;
            -webkit-text-size-adjust: none;

            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        input, button, select, textarea {
            outline: 0 none;
            border: 0px;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;

            -webkit-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }

        body, html {
            height: 100%;
        }

        td {
            text-align: center;
            background-color: white;
            padding: 10px;
            box-sizing: border-box;
            color: #666;
            /*这里的50居然是最小高度的意思 惊了*/
            height: 50px;
            border-left: 1px solid #d2d2d2;
            border-top: 1px solid #d2d2d2;

            /*啊哟我操 只是因为方辉要在里面加a标签*/
            position: relative;

        }

        #con {
            position: relative;
        }

        #realdiv {
            overflow: auto;
        }

        #fakeLdiv {
            box-sizing: border-box;

            /*border: 1px solid blue;*/
            overflow: hidden;
            z-index: 999;
            position: absolute;
            top: 0;
            left: 0;

        }

        #fakeL td {
            /*border: 1px solid blue;*/
            box-shadow: inset -10px 0px 10px rgba(0, 0, 0, 0.1);

        }

        #fakeTdiv {
            box-sizing: border-box;
            overflow: hidden;
            /*border: 1px solid green;*/
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            /*background-color: green;*/
            z-index: 999;

        }

        #fakeT td {
            /*border: 1px solid green;*/
        }

        #fixLT {
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            /*display: none;*/
            z-index: 1000;
            /*vertical-align: center;*/
        }

        #fixLT td {
            box-shadow: inset -10px 0px 10px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }

        #real img {
            /*background-color: red;*/
            height: 50px;
            width: 50px;
            display: block;
            margin: 0 auto;
        }

        #rocket {
            position: fixed;
            bottom: 10px;
            right: 10px;
            display: none;
        }

        .hideSame {
            border: 1px solid #3982e1;
            color: #3982e1;
            border-radius: 5px;
            line-height: 28px;
        }

        /*基本参数那一行*/
        #line2 {
            position: absolute;
            box-shadow: 0px 0px 12px rgba(0, 0, 0, 0.4);
            display: block;
            width: 100%;
            z-index: 1005;
            background-color: #efefef;
            color: #666;
            text-align: center;
            /*box-sizing: border-box;*/
            /*border: 10px solid red;*/
            /*高度是第二行的高度*/
            /*top是第一行的高度*/
        }


        /*弹幕那一行的div的样式*/
        .openCullet {
            border: 1px solid #3982e1;
            border-radius: 20px;
            box-sizing: border-box;
            padding: 6px 15px;
            color: #3982e1;
        }

        #cullet {
            position: fixed;
            border-top: 1px solid #ddd;
            background-color: rgba(255, 255, 255, 1);
            width: 200%;
            height: 50%;
            bottom: 0;
            left: 0;
            z-index: 2000;
            display: none;
        }

    </style>
</head>
<body>
<div id='con'>
    <div id='line2'>
        <!--高度是第二行的高度-->
        <!--top是第一行的高度-->
        <div id='line2col1'>基本参数</div>
        <div id='line2col2'>√ 有&nbsp ×无&nbsp - 无数据</div>
        <div id='line2col3'></div>
    </div>
</div>

<div id='rocket'>
    <img src="img/backTop.png" width="40" height="40" alt=""/>
</div>
<div id="cullet">
    <div class='jimiInputBox'></div>
</div>

</div>
<script src="js/jquery-1.8.3.min.js"></script>
<script src="js/underscore.js"></script>
<script src='js/jimiHost.js'></script>
<script src='js/cullet-4.0.0.min.js'></script>
<script src='js/fastclick.js'></script>
<script src='js/download/download.js'></script>
<script>
    $(function(){window.location.search||(window.location+="?pids=56f57a7defb80c57428c74f6,56f56b2befb80c57428c654f,56829f6defb80c4e26c457f6&cate=6");String.prototype.searchToJson=function(){var a=window.location.search.replace("?","").split("&"),e={};for(i=0;i<a.length;i++){var f=a[i].split("=");e[f[0].toLowerCase()]=f[1]}return e};window.searchJson=searchJson=window.location.search.searchToJson();new Download("#line2col3",null);FastClick.attach(document.body);var p=$(window).height(),g=$(window).width(),
            h=.24*g,l=.38*g;$("#con").append('<div id="realdiv"></div>');$("#realdiv").html('<table id="real" border="0" cellspacing="0" cellpadding="0"></table>');$("#con").append('<div id="fakeLdiv"></div>');$("#fakeLdiv").html('<table id="fakeL" border="0" cellspacing="0" cellpadding="0"></table>');$("#con").append('<div id="fakeTdiv"></div>');$("#fakeTdiv").html('<table id="fakeT" border="0" cellspacing="0" cellpadding="0"></table>');$("#con").append('<table id="fixLT" border="0" cellspacing="0" cellpadding="0"></table>');
        $("#fixLT").html(' <tr><td><div class="hideSame">\u663e\u793a\u76f8\u540c</div></td></tr>');var a=jqueryMap={};a.$con=$("#con");a.$realdiv=$("#realdiv");a.$real=$("#real");a.$fakeLdiv=$("#fakeLdiv");a.$fakeL=$("#fakeL");a.$fakeTdiv=$("#fakeTdiv");a.$fakeT=$("#fakeT");a.$fixLT=$("#fixLT");a.$line2=$("#line2");a.$rocket=$("#rocket");a.$cullet=$("#cullet");$.ajax({type:"get",url:jimiHost+"/compare.php"+window.location.search,dataType:"jsonp",jsonp:"callback",jsonpCallback:"jsonpcallback",success:function(b){function e(c){"unclicked"==
        a.$fakeL.find("td").eq(c).attr("data")?(a.$fakeL.find("td").eq(c).css({"box-shadow":"inset 0px 5px 10px rgba(113,187,230,0.3)","background-color":"#e7f4ff",color:"#3982e1"}),a.$realdiv.find("tr").eq(c).find("td").css({"background-color":"#e7f4ff"}),a.$fakeL.find("td").eq(c).attr("data","clicked")):(a.$fakeL.find("td").eq(c).css({"box-shadow":"inset -10px 0px 10px rgba(0, 0, 0, 0.1)",backgroundColor:"white",color:"#666"}),a.$fakeL.find("td").eq(c).attr("data","unclicked"),a.$realdiv.find("tr").eq(c).find("td").css({"background-color":"white"}))}
            function f(){[].forEach.call(q,function(c,m,b){a.$realdiv.find("tr").eq(c).toggle();a.$fakeL.find("tr").eq(c).toggle()})}console.log(JSON.stringify(b));console.log((new Date).getTime());var d=b.header;b=b.table;var k=h+(b[0].length-1)*l;a.$real.append("<tr></tr>");a.$real.find("tr").eq(0).append("<td></td>");[].forEach.call(d,function(c,m,b){m=c.pic||"img/logo.jpg";a.$real.find("tr").eq(0).append("<td><img src="+m+" />"+c.title+"</td>")});a.$real.append("<tr></tr>");for(i=0;i<d.length+1;i++)a.$real.find("tr").eq(1).append("<td>line2</td>");
            a.$real.append("<tr></tr>");a.$real.find("tr").eq(2).append("<td></td>");for(i=0;i<d.length;i++)a.$real.find("tr").eq(2).append("<td data-pid="+d[i].pid+' ><span class="openCullet">\u6253\u5f00\u5f39\u5e55</span></td>');for(i=0;i<b.length;i++){var x=b[i];a.$real.append("<tr></tr>");for(j=0;j<x.length;j++){var y=b[i][j]||"-";a.$real.find("tr").eq(i+3).append("<td>"+y+"</td>")}}a.$realdiv.css({height:p,width:g});a.$real.css({width:k});var q=[];for(i=3;i<$("#real tr").length;i++){var r=$("#real tr").eq(i).find("td:gt(0)"),
                    t=[];r.each(function(a,b){t.push(r.eq(a).html())});1==_.unique(t).length&&q.push(i)}a.$fakeL.append("<tr></tr>");a.$fakeL.find("tr").eq(0).append('<td data="unclicked"><div class="hideSame">\u663e\u793a\u76f8\u540c</div></td>');a.$fakeL.append("<tr></tr>");a.$fakeL.find("tr").eq(1).append('<td data="unclicked">line2</td>');a.$fakeL.append("<tr></tr>");a.$fakeL.find("tr").eq(2).append('<td data="unclicked">\u7528\u6237\u5f39\u5e55</td>');for(i=0;i<b.length;i++)a.$fakeL.append("<tr></tr>"),a.$fakeL.find("tr").eq(i+
                    3).append('<td data="unclicked">'+b[i][0]+"</td>");a.$fakeLdiv.css({height:p,width:h});$("#fakeT").append("<tr></tr>");$("#fakeT").find("tr").eq(0).append("<td></td>");for(i=0;i<d.length;i++)$("#fakeT").find("tr").append("<td>"+d[i].title+"</td>");$("#fakeTdiv").css({width:g});$("#fakeT").css({width:k});$("td").each(function(a,b){0==$(b).index()?$(b).css({width:h}):$(b).css({width:l})});$("#fakeLdiv td").each(function(a,b){var d=$("#real tr").eq(a).css("height");$(b).css({height:d})});b=$("#real tr").eq(1).css("height");
            $("#line2").css({height:b});k=$("#real tr").eq(0).css("height");$("#line2").css({top:k});$("#line2>div").css({height:"100%","line-height":b,display:"inline-block"});$("#line2col1").css({width:h,"float":"left"});$("#line2col2").css({width:l,"float":"left","box-sizing":"border-box","text-align":"right"});var u=$("#real tr").eq(0).height(),n=$("#fakeT tr").eq(0).height();a.$fixLT.css({height:n});var v;v=u-n;a.$realdiv.scroll(function(){var c=$(this).scrollTop(),b=$(this).scrollLeft();a.$fakeLdiv.scrollTop(c);
                a.$fakeTdiv.scrollLeft(b);c>=v?(a.$fakeTdiv.css({opacity:1}),a.$fixLT.css({opacity:1}),a.$line2.css("top",n),a.$rocket.show()):(a.$fakeTdiv.css({opacity:0}),a.$fixLT.css({opacity:0}),a.$line2.css("top",u-c),a.$rocket.hide())});a.$fakeL.find("td").click(function(){var a=$(this).parent().index();3<=a&&e(a)});a.$realdiv.find("td").click(function(){var a=$(this).parent().index();3<=a&&e(a)});a.$rocket.click(function(){a.$realdiv.animate({scrollTop:0},"normal")});f();a.$hideSame=$(".hideSame");a.$hideSame.parent().click(function(){"\u9690\u85cf\u76f8\u540c"==
            a.$hideSame.html()?a.$hideSame.html("\u663e\u793a\u76f8\u540c"):a.$hideSame.html("\u9690\u85cf\u76f8\u540c");f()});b={position:"absolute",width:"100%",height:"100%",top:0,left:0};a.$real.find("tr").eq(0).find("td:gt(0)").each(function(a,b){$(b).append("<a></a>")});a.$real.find("a").css(b).each(function(a,b){$(b).attr("href",d[a].pidHref)});$("#fakeT").find("td:gt(0)").each(function(a,b){$(b).append("<a></a>")});$("#fakeT").find("a").css(b).each(function(a,b){$(b).attr("href",d[a].pidHref)});var w=
                    new CommentCellManage("#cullet",{serverUrl:jimiHost+"/culletSelect.php",closeable:!0,pnameable:!0,topBlank:1,bottomBlank:2});searchJson.uid&&new JimiInputBox(".jimiInputBox",{ccm:w});a.$cullet[0].addEventListener("touchmove",function(a){},!1);a.$real.find("tr").eq(2).find("td").click(function(){var a=$(this).attr("data-pid");w.load(a)});console.log((new Date).getTime())},error:function(a){console.log("ERROR!");console.log(a)}})});</script>
</body>
</html>