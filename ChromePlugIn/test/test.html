<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <style type="text/css">
        * {
            padding: 0;
            margin: 0;
            text-decoration: none;
            list-style: none;
            font: 14px '微软雅黑';
            /**/
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
            -webkit-highlight: none;
            -webkit-text-size-adjust: none;

            -webkit-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .con {
            margin-top: 100px;
            margin-left: 100px;
            height: 500px;
            width: 360px;
            border-radius: 20px;
            position: relative;
            box-shadow: 0px 5px 10px rgba(0, 0, 0, 0.3);
        }

        .close {
            position: absolute;
            width: 20px;
            height: 20px;
            top: -15px;
            right: -15px;
            color: #3881e0;
            border: 3px solid #3881e0;
            border-radius: 50%;
            line-height: 20px;
            text-align: center;
            font-weight: bold;
            cursor: pointer;
        }

        .top {
            height: 250px;
            /*border: 1px solid #000;*/
            background-color: #3881e0;
            background-image: -webkit-linear-gradient(to bottom, #3881e0, #89bbff);
            background-image: linear-gradient(to bottom, #3881e0, #89bbff);
            border-top-left-radius: 20px;
            border-top-right-radius: 20px;
            overflow: hidden;
            position: relative;
        }

        .waveCon img {
            display: block;
            position: absolute;
            bottom: -40px;
            opacity: 0.5;
        }

        .honeyCombCon {
            position: absolute;
            width: 100%;
            height: 100%;
            left: 0;
            top: 0;
        }

        .bottom {
            height: 250px;
            border-bottom-left-radius: 20px;
            border-bottom-right-radius: 20px;
            /*border: 1px solid #000;*/
        }

        .qrCode {
            box-sizing: border-box;
            border: 1px solid #dbf7ff;
            width: 120px;
            height: 120px;
            margin: 30px auto;
            box-sizing: border-box;
        }

        .qrCode img {
            width: 118px;
            display: block;
        }

        .qrTxt {
            text-align: center;
        }
    </style>
</head>
<body>
<div class='con'>
    <div class='top'>
        <div class='waveCon'>
            <img src="img/wave1.png" width="100%"/>
            <img src="img/wave2.png" width="100%"/>
            <img src="img/wave3.png" width="100%"/>
        </div>
        <div class="honeyCombCon"></div>

    </div>
    <div class='bottom'>
        <div class='qrCode'><img src="img/qr.png"/></div>
        <div class='qrTxt'>想要了解更多功能请下载肌秘APP<br>肌秘提供专业的化妆品对比，化妆品资讯等功能</div>
    </div>
    <div class='close'>×</div>
</div>

<script src='http://apps.bdimg.com/libs/jquery/1.8.3/jquery.min.js'></script>
<script src='../jimiSDK/js/tool/velocity.min.js'></script>
<script src='../jimiSDK/js/tool/velocity.ui.js'></script>
<script src='js/jimiHost.js'></script>
<script src='js/class/honeyComb.js'></script>
<script src='js/class/honeyCombManager.js'></script>


<script>
    $(function () {

        //ajax............................................
//        $.ajax({
//            type: "get",
//            url: jimiHost + '/formual_safe.php' + '?pid=56c6aea3efb80c9b2541ced4',
////        url: 'package.json',
//            dataType: "jsonp",
//            jsonp: "callback",
//            jsonpCallback: "jsonpcallback",
//            success: function (data) {
////                console.log(JSON.stringify(data));
//
//                var features = data.feature;
//                console.log(features);
//
//            },
//            error: function (err) {
//                console.log('ERROR!');
//                console.log(err);
//            }
//        })

        //bindEvent.......................................
        $('.close').click(function () {
            $('.con').hide();
        });

        //feature.........................................
        var featureArr = ["防晒", "0-100元", "痘肌肤质选用", "含一定香精", "含一定防腐剂", "日常、低海拔、春秋冬", "SPF20+", "UVA", "UVB", "防晒", "0-100元", "痘肌肤质选用", "含一定香精", "含一定防腐剂", "日常、低海拔、春秋冬", "SPF20+", "UVA", "UVB"];


        //initPosition....................................
        var posArr = [
            {left: 80},
            {left: 50},
            {left: 140},
            {left: 110},
            {left: 170},
            {left: 200},
            {left: 230},
            {left: 260},
            {left: 290},
        ];
        var hc = new HoneyComb('.honeyCombCon', {txt: featureArr[0]});
        window.hc = hc;

        window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;
        window.cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelRequestAnimationFrame || window.webkitCancelRequestAnimationFrame || window.msCancelRequestAnimationFrame;
        var startTime = new Date().getTime();
        var FPS = 0.25;
        var timer = null;


        function move() {
            var curTime = new Date().getTime();
            var diff = curTime - startTime;
            if (diff >= 5000) {
                startTime = new Date().getTime();

                hc.move();

//                if(count==100){
//                    cancelAnimationFrame(timer);
//                    delete(timer);
//                    return;
//                }
            }
            timer = requestAnimationFrame(move);
        }

        hc.move();
        move();


    })
</script>
</body>
</html>